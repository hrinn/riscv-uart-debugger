#!/bin/bash

function prompt {
    while true; do
        read -p "$* [y/n]: " yn
        case $yn in
            [Yy]*) return 0 ;;  
            [Nn]*) return 1 ;;
        esac
    done
}

if [[ $(git fetch) ]]; then
    prompt "Repository updated. Install changes?" && \
        git pull; ./install; echo "Don't forget to re-add the updated .sv files!\n"
else
    echo "Already up to date."
fi
